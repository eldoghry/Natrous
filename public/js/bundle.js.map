{"mappings":"AEGO,MAAM,yCAAS,GAAG,CAAC,IAAI,EAAE,GAAG,GAAK;IACtC,iBAAiB;IACjB,yCAAS,EAAE,CAAC;IAEZ,4BAA4B;IAC5B,MAAM,EAAE,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,AAAC;IAE5D,mBAAmB;IACnB,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;IAE9E,MAAM,CAAC,UAAU,CAAC,IAAM;QACtB,yCAAS,EAAE,CAAC;KACb,EAAE,IAAI,CAAC,CAAC;CACV,AAAC;AAEK,MAAM,yCAAS,GAAG,IAAM;IAC7B,MAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,AAAC;IAC5C,EAAE,IAAI,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;CACrC,AAAC;;ADpBF;AAGO,MAAM,yCAAW,GAAG,eAAgB,CAAC,EAAE;IAC5C,CAAC,CAAC,cAAc,EAAE,CAAC;IACnB,IAAI;QACF,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,AAAC;QACxC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,AAAC;QAE9C,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,0CAA0C,EAAE;mBACvE,KAAK;sBACL,QAAQ;SACT,CAAC,AAAC;QAEH,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;YACjC,CAAA,GAAA,yCAAS,CAAA,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAC;YAC1C,MAAM,CAAC,UAAU,CAAC,IAAM,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;SAC5D;KACF,CAAC,OAAO,KAAK,EAAE;QACd,CAAA,GAAA,yCAAS,CAAA,CAAC,OAAO,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACjD;CACF,AAAC;AAEK,MAAM,yCAAY,GAAG,UAAY;IACtC,IAAI;QACF,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,8BAA8B,CAAC,AAAC;QAE5D,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc;KAChF,CAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,CAAA,GAAA,yCAAS,CAAA,CAAC,OAAO,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACjD;CACF,AAAC;;AD/BF;AAEA,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAErB,MAAM,+BAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,AAAC;AAE9C,MAAM,+BAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,AAAC;AAEpD,+BAAS,IAAI,+BAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAA,GAAA,yCAAW,CAAA,CAAC,IAAI,CAAC,+BAAS,CAAC,CAAC,CAAC;AAE/E,+BAAS,IAAI,+BAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAA,GAAA,yCAAY,CAAA,CAAC,CAAC","sources":["public/js/index.js","public/js/login.js","public/js/alert.js"],"sourcesContent":["/* eslint-disable */\r\n// import \"@babel/polyfill\";\r\nimport { handleLogin, handleLogout } from \"./login.js\";\r\n\r\nconsole.log(\"hello\");\r\n\r\nconst loginForm = document.forms[\"loginForm\"];\r\n\r\nconst logoutBtn = document.getElementById(\"logout\");\r\n\r\nloginForm && loginForm.addEventListener(\"submit\", handleLogin.bind(loginForm));\r\n\r\nlogoutBtn && logoutBtn.addEventListener(\"click\", handleLogout);\r\n","/* eslint-disable */\r\nimport { showAlert } from \"./alert.js\";\r\n// import axios from \"axios\";\r\n\r\nexport const handleLogin = async function (e) {\r\n  e.preventDefault();\r\n  try {\r\n    const email = this.elements.email.value;\r\n    const password = this.elements.password.value;\r\n\r\n    const res = await axios.post(\"http://localhost:3000/api/v1/users/login\", {\r\n      email,\r\n      password,\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Login Successfuly\");\r\n      window.setTimeout(() => window.location.assign(\"/\"), 1500);\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", error.response.data.message);\r\n  }\r\n};\r\n\r\nexport const handleLogout = async () => {\r\n  try {\r\n    const res = await axios.get(\"http://localhost:3000/logout\");\r\n\r\n    if (res.data.status === \"success\") window.location.reload(true); // hard reload\r\n  } catch (error) {\r\n    console.log(error);\r\n    showAlert(\"error\", error.response.data.message);\r\n  }\r\n};\r\n","/* eslint-disable */\r\n\r\n//type: success| error\r\nexport const showAlert = (type, msg) => {\r\n  //hide old alerts\r\n  hideAlert();\r\n\r\n  // 1) create alert elemement\r\n  const el = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n\r\n  //2) add el to body\r\n  document.getElementsByTagName(\"body\")[0].insertAdjacentHTML(\"afterbegin\", el);\r\n\r\n  window.setTimeout(() => {\r\n    hideAlert();\r\n  }, 1500);\r\n};\r\n\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector(\".alert\");\r\n  el && el.parentNode.removeChild(el);\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map"}